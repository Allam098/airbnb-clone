<% layout("layouts/boilerplate") %>

<style>
  .password-toggle {
    position: relative;
  }
  
  .password-toggle-icon {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    color: #666;
    transition: color 0.3s ease;
  }
  
  .password-toggle-icon:hover {
    color: #333;
  }

  .btn-primary {
    background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);
    border: none;
    padding: 0.75rem 2rem;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(8, 145, 178, 0.4);
  }
</style>

<div class="row mt-3">
  <h1 class="col-6 offset-3">Login</h1>
  <div class="col-6 offset-3">
    <form action="/login" method="post" novalidate class="needs-validation">

      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input name="username" type="text" class="form-control" id="username" required>
      </div>

      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <div class="password-toggle">
          <input name="password" type="password" class="form-control" id="password" style="padding-right: 40px;" required>
          <i class="fa-solid fa-eye password-toggle-icon" id="togglePassword"></i>
        </div>
      </div>

      <button type="submit" class="btn btn-primary">Login</button>

    </form>

    <div class="mt-3">
      <a href="/forgot-password" class="text-decoration-none">
        <i class="fa-solid fa-key me-1"></i>
        Forgot Password?
      </a>
    </div>

    <div class="mt-3 text-center">
      <p class="text-muted">
        Are you an administrator? 
        <a href="/admin/login" class="text-decoration-none fw-bold">
          <i class="fas fa-user-shield"></i> Admin Login
        </a>
      </p>
    </div>

  </div>
</div>

<script>
  const togglePassword = document.getElementById('togglePassword');
  const passwordInput = document.getElementById('password');

  togglePassword.addEventListener('click', function() {
    // Toggle password visibility
    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
    passwordInput.setAttribute('type', type);
    
    // Toggle icon
    this.classList.toggle('fa-eye');
    this.classList.toggle('fa-eye-slash');
  });
</script>
